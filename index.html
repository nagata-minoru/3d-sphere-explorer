<!DOCTYPE html>
<html lang="ja">
  <head>
    <!-- 文字エンコーディングをUTF-8に設定 -->
    <meta charset="UTF-8" />
    <!-- Internet Explorerの互換表示を無効に設定 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- レスポンシブデザインを可能にするためのビューポート設定 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- ウェブページのタイトル -->
    <title>Three.js Practice</title>

    <!-- ファビコンの設定 -->
    <link rel="shortcut icon" href="icons/favicon.ico" type="image/x-icon" />

    <!-- es-module-shimsのスクリプトファイルを非同期で読み込み -->
    <script src="https://unpkg.com/es-module-shims@1.7.0/dist/es-module-shims.js" defer></script>

    <!-- Import Mapを設定し、パッケージ名をURLにマッピング -->
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.152.2/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.152.2/examples/jsm/"
        }
      }
    </script>
  </head>
  <!-- 本文（body）部分 -->
  <body>
    <div id="stage"></div>
    <script type="module">
      import * as THREE from 'three'; // Three.jsライブラリをインポートします。

      // Creating cubes with Three.js
      (() => {
        'use strict'

        let scene;
        let box;
        let light;
        let ambient;
        let camera;
        let renderer;
        const width = 500;
        const height = 500;

        scene = new THREE.Scene()

        box = new THREE.Mesh(
          new THREE.BoxGeometry(50, 50, 50),
          new THREE.MeshLambertMaterial({ color: 0xff0000 })
        );
        box.position.set(0, 0, 0);
        scene.add(box);

        light = new THREE.DirectionalLight(0xffffff, 1);
        light.position.set(0, 100, 30);
        scene.add(light);

        ambient = new THREE.AmbientLight(0x404040, 0.9);
        scene.add(ambient);

        camera = new THREE.PerspectiveCamera(45, width / height, 1, 1000);
        camera.position.set(200, 100, 300);
        camera.lookAt(scene.position);

        renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(width, height);
        renderer.setClearColor(0xefefef);
        renderer.setPixelRatio(window.devicePixelRatio);
        stage.appendChild(renderer.domElement);

        renderer.render(scene, camera);
      })();
    </script>
  </body>
</html>
